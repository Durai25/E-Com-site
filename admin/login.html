<script type="module">
import { auth } from "../js/firebase.js";
import {
  signInWithEmailAndPassword,
  sendPasswordResetEmail
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

window.login = function () {
  signInWithEmailAndPassword(auth,
    email.value,
    password.value
  )
  .then(() => {
    location.href = "dashboard.html";
  })
  .catch(err => alert(err.message));
};

window.forgotPassword = function () {
  const emailVal = email.value.trim();
  if (!emailVal) {
    alert("Enter email first");
    return;
  }
  sendPasswordResetEmail(auth, emailVal)
    .then(() => alert("Reset email sent"))
    .catch(err => alert(err.message));
};
</script>
