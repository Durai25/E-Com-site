<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Vogant Fashions/My Account</title>
  <link rel="stylesheet" href="../css/style.css">
  <style>
    .account-page {
      max-width: 900px;
      margin: 0 auto;
    }
    
    .account-header {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 30px;
      padding: 20px;
      background: #fff;
      border-radius: 12px;
      box-shadow: var(--shadow);
    }
    
    .account-avatar {
      width: 80px;
      height: 80px;
      background: var(--accent);
      color: #fff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      font-weight: 600;
    }
    
    .account-info h2 {
      margin: 0 0 4px 0;
      color: #111827;
    }
    
    .account-info .email {
      color: #6b7280;
      font-size: 14px;
    }
    
    .account-info .verified {
      color: #059669;
      font-size: 12px;
      margin-top: 4px;
    }
    
    .account-menu {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 16px;
    }
    
    .menu-card {
      background: #fff;
      border-radius: 12px;
      box-shadow: var(--shadow);
      padding: 24px;
      text-decoration: none;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 16px;
    }
    
    .menu-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }
    
    .menu-icon {
      width: 50px;
      height: 50px;
      background: var(--bg);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }
    
    .menu-text h3 {
      margin: 0 0 4px 0;
      font-size: 16px;
      color: #111827;
    }
    
    .menu-text p {
      margin: 0;
      font-size: 13px;
      color: #6b7280;
    }
    
    .logout-section {
      margin-top: 30px;
      text-align: center;
    }
    
    .logout-btn {
      background: #dc2626;
      color: #fff;
      border: none;
      padding: 12px 32px;
      font-size: 15px;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .logout-btn:hover {
      background: #b91c1c;
    }
    
    .alert-box {
      padding: 12px 16px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 14px;
    }
    
    .alert-warning {
      background: #fef3c7;
      color: #92400e;
      border: 1px solid #fcd34d;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-top">
      <a href="index.html" class="logo-link">
        <img src="logo.png" alt="Store Logo" class="logo-img">
        <div class="brand-text">
          <span class="brand-tagline">Fashion Attract's</span>
        </div>
      </a>
      <div class="header-actions">
        <a href="cart.html" class="cart-btn">
          <span class="cart-icon">üõí</span>
          <span>Cart</span>
        </a>
        <a href="login.html" class="login-link">Login</a>
      </div>
    </div>
    <nav class="navbar">
      <a href="newarrivals.html" data-category="new">New Arrivals</a>
      <a href="mens.html" data-category="men">Mens Fashion</a>
      <a href="womens.html" data-category="womens">Womens Fashion</a>
      <a href="kids.html" data-category="kids">Kids Fashion</a>
      <a href="fancyitems.html" data-category="fancy">Fancy Items</a>
    </nav>
  </header>

  <main>
    <div class="container">
      <div class="account-page">
        <div id="accountContent">
          <div class="alert-box alert-warning">
            Loading account information...
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-top">
      <div class="footer-logo">
        <h2>Vogant Fashions</h2>
        <p class="trust-badge">‚≠ê Trusted by thousands of customers</p>
      </div>
      <div class="footer-columns">
        <div class="footer-column">
          <h4>Company</h4>
          <ul>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Our Story</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms & Conditions</a></li>
            <li><a href="#">Sitemap</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Shop</h4>
          <ul>
            <li><a href="index.html">All Products</a></li>
            <li><a href="mens.html">Men's Collection</a></li>
            <li><a href="womens.html">Women's Collection</a></li>
            <li><a href="kids.html">Kids Collection</a></li>
            <li><a href="newarrivals.html">New Arrivals</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Customer Service</h4>
          <ul>
            <li><a href="track.html">Track Order</a></li>
            <li><a href="#">Contact Us</a></li>
            <li><a href="#">Support Hub</a></li>
            <li><a href="#">FAQs</a></li>
            <li><a href="#">Returns</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Connect With Us</h4>
          <div class="social-links">
            <a href="https://facebook.com" target="_blank">üìò Facebook</a>
            <a href="https://instagram.com" target="_blank">üì∑ Instagram</a>
            <a href="https://twitter.com" target="_blank">ùïè Twitter</a>
            <a href="https://wa.me/919944499333" target="_blank">üí¨ WhatsApp</a>
          </div>
          <div class="contact-info">
            <p><strong>Email:</strong> <a href="mailto:vogantfashions@gmail.com">vogantfashions@gmail.com</a></p>
            <p><strong>Phone:</strong> <a href="tel:+919944499333">+91 99444 99333</a></p>
          </div>
        </div>
      </div>
    </div>
    <div class="footer-divider"></div>
    <div class="footer-badges">
      <div class="badge">
        <div class="badge-icon">üöö</div>
        <div class="badge-text"><strong>Fast Shipping</strong><br>Worldwide Delivery</div>
      </div>
      <div class="badge">
        <div class="badge-icon">üîí</div>
        <div class="badge-text"><strong>100% Secure</strong><br>Safe Checkout</div>
      </div>
      <div class="badge">
        <div class="badge-icon">ü§ù</div>
        <div class="badge-text"><strong>24/7 Support</strong><br>Customer Care</div>
      </div>
      <div class="badge">
        <div class="badge-icon">‚≠ê</div>
        <div class="badge-text"><strong>Premium Quality</strong><br>Authentic Products</div>
      </div>
    </div>
    <div class="footer-divider"></div>
    <div class="footer-bottom">
      <p>&copy; 2026 Vogant Fashions. All rights reserved.</p>
    </div>
  </footer>

  <script type="module">
    import { auth, db } from "../js/firebase.js";
    import { doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
    
    const contentDiv = document.getElementById('accountContent');
    
    window.logout = function() {
      auth.signOut().then(() => {
        location.href = "login.html";
      });
    };

    auth.onAuthStateChanged(async (user) => {
      if (!user) {
        location.href = "login.html";
        return;
      }
      
      // Check if email is verified
      if (!user.emailVerified) {
        contentDiv.innerHTML = `
          <div class="alert-box alert-warning">
            ‚ö†Ô∏è Please verify your email address to access your account. 
            Check your inbox for the verification email.
          </div>
          <div class="logout-section">
            <button onclick="logout()" class="logout-btn">Logout</button>
          </div>
        `;
        return;
      }
      
      // Get user data from Firestore
      let userData = {};
      try {
        const userSnap = await getDoc(doc(db, "users", user.uid));
        if (userSnap.exists()) {
          userData = userSnap.data();
        }
      } catch (e) {
        console.warn("Could not fetch user data", e);
      }
      
      // Get initials for avatar
      const initial = user.email ? user.email.charAt(0).toUpperCase() : '?';
      
      contentDiv.innerHTML = `
        <div class="account-header">
          <div class="account-avatar">${initial}</div>
          <div class="account-info">
            <h2>${userData.name || 'Customer'}</h2>
            <p class="email">${user.email}</p>
            <p class="verified">‚úì Email Verified</p>
          </div>
        </div>
        
        <div class="account-menu">
          <a href="my-orders.html" class="menu-card">
            <div class="menu-icon">üì¶</div>
            <div class="menu-text">
              <h3>My Orders</h3>
              <p>View order history and track orders</p>
            </div>
          </a>
          
          <a href="track.html" class="menu-card">
            <div class="menu-icon">üîç</div>
            <div class="menu-text">
              <h3>Track Order</h3>
              <p>Track your order by phone or order ID</p>
            </div>
          </a>
          
          <a href="cart.html" class="menu-card">
            <div class="menu-icon">üõí</div>
            <div class="menu-text">
              <h3>Shopping Cart</h3>
              <p>View and manage your cart items</p>
            </div>
          </a>
          
          <a href="index.html" class="menu-card">
            <div class="menu-icon">üõçÔ∏è</div>
            <div class="menu-text">
              <h3>Continue Shopping</h3>
              <p>Browse our latest collection</p>
            </div>
          </a>
        </div>
        
        <div class="logout-section">
          <button onclick="logout()" class="logout-btn">Logout</button>
        </div>
      `;
    });
  </script>
</body>
</html>

